---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodeBlock from '../../components/CodeBlock.astro';
---

<DocsLayout title="Contributing - Nokvault">
  <div class="prose prose-invert max-w-none">
    <h1>Contributing</h1>
    <p class="text-xl text-dark-text-muted mb-8">
      Contributions are welcome! Help make Nokvault better for everyone.
    </p>

    <section class="mb-8">
      <h2>How to Contribute</h2>
      <p class="text-dark-text-muted mb-4">
        There are many ways to contribute to Nokvault:
      </p>
      <ul class="list-disc list-inside space-y-2 text-dark-text-muted mb-4">
        <li>Report bugs</li>
        <li>Suggest new features</li>
        <li>Submit pull requests</li>
        <li>Improve documentation</li>
        <li>Write tests</li>
        <li>Help other users</li>
      </ul>
    </section>

    <section class="mb-8">
      <h2>Getting Started</h2>
      <p class="text-dark-text-muted mb-4">
        To start contributing:
      </p>
      <ol class="list-decimal list-inside space-y-2 text-dark-text-muted mb-4">
        <li>Fork the repository on GitHub</li>
        <li>Clone your fork locally</li>
        <li>Create a feature branch</li>
        <li>Make your changes</li>
        <li>Test your changes</li>
        <li>Submit a pull request</li>
      </ol>
      <CodeBlock code={`# Fork and clone
git clone https://github.com/jimididit/nokvault.git
cd nokvault

# Create a feature branch
git checkout -b feature/amazing-feature

# Make your changes, then commit
git commit -m "Add amazing feature"

# Push to your fork
git push origin feature/amazing-feature`} lang="bash" />
    </section>

    <section class="mb-8">
      <h2>Development Setup</h2>
      <p class="text-dark-text-muted mb-4">
        Set up your development environment:
      </p>
      <CodeBlock code={`# Install dependencies
go mod download

# Run tests
go test ./...

# Build the project
# Windows
go build -o nokvault.exe ./cmd/nokvault
# Linux/macOS  
go build -o nokvault ./cmd/nokvault

# Run with your changes
./nokvault --version`} lang="bash" />
    </section>

    <section class="mb-8">
      <h2>Code Standards</h2>
      <p class="text-dark-text-muted mb-4">
        Please follow these guidelines:
      </p>
      <ul class="list-disc list-inside space-y-2 text-dark-text-muted mb-4">
        <li>Follow Go conventions and style guide</li>
        <li>Write clear, descriptive commit messages</li>
        <li>Add tests for new features</li>
        <li>Update documentation as needed</li>
        <li>Ensure all tests pass before submitting</li>
        <li>Run <code>go fmt</code> and <code>go vet</code> before committing</li>
      </ul>
    </section>

    <section class="mb-8">
      <h2>Testing</h2>
      <p class="text-dark-text-muted mb-4">
        Ensure your changes are tested:
      </p>
      <CodeBlock code={`# Run all tests
go test ./...

# Run tests with coverage
go test -cover ./...

# Run tests for a specific package
go test ./internal/crypto/...`} lang="bash" />
      <p class="text-dark-text-muted mt-4">
        Aim for high test coverage, especially for security-critical code.
      </p>
    </section>

    <section class="mb-8">
      <h2>Pull Request Process</h2>
      <p class="text-dark-text-muted mb-4">
        When submitting a pull request:
      </p>
      <ol class="list-decimal list-inside space-y-2 text-dark-text-muted mb-4">
        <li>Ensure your code follows the project's style guidelines</li>
        <li>Add or update tests as needed</li>
        <li>Update documentation if you've changed functionality</li>
        <li>Ensure all tests pass</li>
        <li>Write a clear description of your changes</li>
        <li>Reference any related issues</li>
      </ol>
    </section>

    <section class="mb-8">
      <h2>Reporting Issues</h2>
      <p class="text-dark-text-muted mb-4">
        When reporting bugs, please include:
      </p>
      <ul class="list-disc list-inside space-y-2 text-dark-text-muted mb-4">
        <li>Nokvault version</li>
        <li>Operating system and version</li>
        <li>Steps to reproduce the issue</li>
        <li>Expected behavior</li>
        <li>Actual behavior</li>
        <li>Error messages or logs</li>
      </ul>
    </section>

    <section class="mb-8">
      <h2>Security Issues</h2>
      <p class="text-dark-text-muted mb-4">
        If you discover a security vulnerability, please:
      </p>
      <ul class="list-disc list-inside space-y-2 text-dark-text-muted mb-4">
        <li><strong>Do not</strong> open a public issue</li>
        <li>Email security concerns privately</li>
        <li>Allow time for the issue to be addressed before disclosure</li>
      </ul>
    </section>

    <section class="mb-8">
      <h2>Questions?</h2>
      <p class="text-dark-text-muted mb-4">
        If you have questions about contributing:
      </p>
      <ul class="list-disc list-inside space-y-2 text-dark-text-muted mb-4">
        <li>Open an issue for discussion</li>
        <li>Check existing issues and pull requests</li>
        <li>Review the codebase to understand patterns</li>
      </ul>
    </section>
  </div>
</DocsLayout>

<style>
  .prose {
    color: #e5e5e5;
  }
  .prose h1 {
    color: #fff;
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
  }
  .prose h2 {
    color: #fff;
    font-size: 1.75rem;
    font-weight: 600;
    margin-top: 2rem;
    margin-bottom: 1rem;
  }
  .prose code {
    background-color: #1f1f1f;
    padding: 0.2em 0.4em;
    border-radius: 0.25rem;
    font-size: 0.9em;
  }
</style>
